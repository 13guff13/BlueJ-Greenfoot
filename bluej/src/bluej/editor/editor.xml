<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="editor-dist" name="editor-src">
<!-- This build file is part of the BlueJ build process, not part of the editor
source distribution -->

    <patternset id="editor.txt" >
        <include name="install.txt"/>
        <include name="readme.txt"/>
        <include name="license.txt"/>
        <include name="build.xml"/>
    </patternset>
            
    <patternset id="editor.source" >
        <include name="src/bluej/editor/**/*.java"/>
        <include name="src/bluej/editor/moe/keybindings.txt"/>
        <include name="src/org/**/*.java"/>
    </patternset>
    
    <target name="dist">
        <!--  -->
        <delete dir="${bluej_home}/package/editor_tmp/bluej-editor"/>
        <mkdir dir="${bluej_home}/package/editor_tmp/bluej-editor"/>
        
        <copy todir="editor_tmp/bluej-editor">
            <fileset dir="${bluej_home}" >
                <patternset refid="editor.source"/>
            </fileset>
            <fileset dir="." >
                <patternset refid="editor.txt"/>
            </fileset>
        </copy>
        
       <!-- jar up all the editor source files -->
        <jar jarfile="${bluej_home}/package/editor-src.jar" basedir="editor_tmp"/>
    </target>
    
    <target name="clean">
        <delete file="${bluej_home}/package/editor-src.jar"/>
    </target>    
</project>
