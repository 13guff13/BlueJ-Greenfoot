<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
</head>
<body bgcolor="white">

<P>Provides access to components of BlueJ by means of a set of proxy objects. All objects are
obtained from a top-level proxy, <CODE>BlueJ</CODE>.</P> 

<H2>A simple extension</H2>
<P>The following example impelemnts an extension which logs BlueJ behaviour to System.out.
Once it is installed you should see an entry in the "installed extensions" panel of BlueJ help menu.</P>

<H3>How to install it</H3>

<UL>
  <LI>Compile. Remembar that you must include the lib/bluejext.jar into the compiler classpath
  <LI>Jar. If you use "ant" you can use the instructions ahead.
  <LI>Copy. You MUST copy it into the lib/extensions of you BlueJ installation.
  <LI>Run. To run the extension you simply start BlueJ.
</UL>

<P>If you are using ant to build your jar you can use the following. Of course you have to fill in the 
missing parts, as always you should understand what you are doing.</P>
<P>The important part is the one adding a Manifest to your jar file and specifyng what is the 
Main_Class to be run on the jar file.</P>

<PRE>
    &lt;target name="jarred" depends="compile">
        &lt;jar jarfile="${bluej_home}/lib/extensions/${output_jar}" compress="no" >
           &lt;fileset dir="${build}" />
            &lt;fileset dir="." includes="${lib}/**" />
            &lt;manifest>
                &lt;attribute name="Main-Class" value="SimpleExtension"/>
             &lt;/manifest>
        &lt;/jar>
    &lt;/target>
</PRE>

<P>This is the actual code</P>

<PRE>
import bluej.extensions.*;
import bluej.extensions.event.*;

import java.net.URL;

/**
 * This is the starting point of a BlueJ Extension
 */
public class SimpleExtension extends Extension implements BlueJExtensionEventListener
  {
  /**
   * Here you can actually start using your nice extension, all pieces are in place.
   */
  public void startup (BlueJ bluej) {
    bluej.addBlueJExtensionEventListener(this);
    }


  /** 
   * Something has happened in blueJ
   * What we do is to put it into the queue of events happening
   * and also we display it into the console.
   */
  public void eventOccurred ( BlueJExtensionEvent ev ) {
    System.out.println ("Event="+ev.toString());
    }  
    
  /**
   * Tryes to decide if this Extension is compatible with the current release of Extensions API
   */
  public boolean isCompatible () { 
    return true; 
    }

  /**
   * Returs to the system the version of this extension
   */
  public String  getVersion () { 
    return ("2003.03");  
    }

  public String getDescription () {
    return ("A simple extension");
    }

  /**
   * Returns a URL where you can find info on this extension.
   * WARNING: The real problem is making shure that the link will be alive in three years...
   */
  public URL getURL () {
    try {
      return new URL("http://www.cs.ukc.ac.uk/projects/bluej/");
      }
    catch ( Exception eee ) {
      // There is no reason at all that this should trow exception...
      System.out.println ("BlueJscript: getURL: Exception="+eee.getMessage());
      return null;
      }
    }
}
</PRE>


</body>
</html>
